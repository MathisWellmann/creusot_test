thread 'rustc' panicked at compiler/rustc_middle/src/ty/mod.rs:863:36:
called `Option::unwrap()` on a `None` value
stack backtrace:
   0:     0x7ffff6a62ee5 - std::backtrace::Backtrace::create::h2d4276ea66f8d84d
   1:     0x7ffff4e15c45 - std::backtrace::Backtrace::force_capture::hb91139e770f18342
   2:     0x7ffff3f87644 - std[41a6e8152209c0a6]::panicking::update_hook::<alloc[9f80a3905cc8b55b]::boxed::Box<rustc_driver_impl[3ce1408bca960349]::install_ice_hook::{closure#1}>>::{closure#0}
   3:     0x7ffff4e2e583 - std::panicking::rust_panic_with_hook::hdb647d40fc260137
   4:     0x7ffff4e2e246 - std::panicking::begin_panic_handler::{{closure}}::h7323aa792739fc4e
   5:     0x7ffff4e2bc49 - std::sys::backtrace::__rust_end_short_backtrace::h304d83d1d823b3b1
   6:     0x7ffff4e2df3d - rust_begin_unwind
   7:     0x7ffff1a52a00 - core::panicking::panic_fmt::h9a9c479b3cce79d6
   8:     0x7ffff2547adc - core::panicking::panic::h9cce41e3323ea123
   9:     0x7ffff2f72f79 - core::option::unwrap_failed::h09edd3c6305c977c
  10:     0x7ffff45af2a2 - <rustc_middle[80127f98e0fedb5b]::ty::Placeholder<rustc_type_ir[8679f74aa0b6c863]::BoundVar>>::find_const_ty_from_env
  11:     0x7ffff627de76 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>::{closure#2}
  12:     0x7ffff62783f8 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>
  13:     0x7ffff6270de2 - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_goal_raw
  14:     0x7ffff626bb19 - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::try_evaluate_added_goals
  15:     0x7ffff626c87d - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_added_goals_and_make_canonical_response::{closure#0}
  16:     0x7ffff62674a5 - <rustc_type_ir[8679f74aa0b6c863]::predicate::TraitPredicate<rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt> as rustc_next_trait_solver[7b441a8e11b41aeb]::solve::assembly::GoalKind<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::consider_impl_candidate
  17:     0x7ffff69475d9 - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::assemble_and_evaluate_candidates::<rustc_type_ir[8679f74aa0b6c863]::predicate::TraitPredicate<rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>
  18:     0x7ffff627b708 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>::{closure#2}
  19:     0x7ffff62783f8 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>
  20:     0x7ffff6270de2 - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_goal_raw
  21:     0x7ffff626bb19 - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::try_evaluate_added_goals
  22:     0x7ffff626c87d - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_added_goals_and_make_canonical_response::{closure#0}
  23:     0x7ffff626624c - <rustc_type_ir[8679f74aa0b6c863]::predicate::NormalizesTo<rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt> as rustc_next_trait_solver[7b441a8e11b41aeb]::solve::assembly::GoalKind<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::consider_impl_candidate
  24:     0x7ffff694e63b - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::normalize_at_least_one_step::{closure#0}
  25:     0x7ffff627c698 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>::{closure#2}
  26:     0x7ffff62783f8 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>
  27:     0x7ffff6270de2 - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_goal_raw
  28:     0x7ffff626bdae - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::try_evaluate_added_goals
  29:     0x7ffff627c239 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>::{closure#2}
  30:     0x7ffff62783f8 - <rustc_type_ir[8679f74aa0b6c863]::search_graph::SearchGraph<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::search_graph::SearchGraphDelegate<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate>, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::with_new_goal::<<rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_canonical_goal::{closure#0}::{closure#0}::{closure#0}>
  31:     0x7ffff6270de2 - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::evaluate_goal_raw
  32:     0x7ffff627745d - <rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::EvalCtxt<rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate, rustc_middle[80127f98e0fedb5b]::ty::context::TyCtxt>>::enter_root::<core[1b69f308fde5021f]::result::Result<(rustc_next_trait_solver[7b441a8e11b41aeb]::solve::HasChanged, rustc_type_ir[8679f74aa0b6c863]::solve::Certainty), rustc_type_ir[8679f74aa0b6c863]::solve::NoSolution>, <rustc_trait_selection[4d9018fdb8182ff0]::solve::delegate::SolverDelegate as rustc_next_trait_solver[7b441a8e11b41aeb]::solve::eval_ctxt::SolverDelegateEvalExt>::evaluate_root_goal::{closure#0}>
  33:     0x7ffff6785efc - <rustc_trait_selection[4d9018fdb8182ff0]::solve::fulfill::FulfillmentCtxt<rustc_infer[5597b63b24a7c2f5]::traits::engine::ScrubbedTraitError> as rustc_infer[5597b63b24a7c2f5]::traits::engine::TraitEngine<rustc_infer[5597b63b24a7c2f5]::traits::engine::ScrubbedTraitError>>::select_where_possible
  34:     0x7ffff4cdffa1 - <rustc_trait_selection[4d9018fdb8182ff0]::error_reporting::TypeErrCtxt>::error_implies
  35:     0x7ffff4cb02b3 - <rustc_trait_selection[4d9018fdb8182ff0]::error_reporting::TypeErrCtxt>::report_fulfillment_errors
  36:     0x7ffff5c96592 - rustc_hir_typeck[7508f4056e5c7701]::typeck_with_inspect::{closure#0}
  37:     0x7ffff5c9128c - rustc_query_impl[61113a71a2b02049]::plumbing::__rust_begin_short_backtrace::<rustc_query_impl[61113a71a2b02049]::query_impl::typeck::dynamic_query::{closure#2}::{closure#0}, rustc_middle[80127f98e0fedb5b]::query::erase::Erased<[u8; 8usize]>>
  38:     0x7ffff59743ce - rustc_query_system[bfbd0197cdd02210]::query::plumbing::try_execute_query::<rustc_query_impl[61113a71a2b02049]::DynamicConfig<rustc_data_structures[8ba96ecce1330312]::vec_cache::VecCache<rustc_span[f9f38fe676b1ca59]::def_id::LocalDefId, rustc_middle[80127f98e0fedb5b]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[bfbd0197cdd02210]::dep_graph::graph::DepNodeIndex>, false, false, false>, rustc_query_impl[61113a71a2b02049]::plumbing::QueryCtxt, false>
  39:     0x7ffff5972311 - rustc_query_impl[61113a71a2b02049]::query_impl::typeck::get_query_non_incr::__rust_end_short_backtrace
  40:     0x7ffff60cbeca - rustc_mir_build[2dce5fd836947162]::thir::cx::thir_body
  41:     0x7ffff60cac12 - rustc_query_impl[61113a71a2b02049]::plumbing::__rust_begin_short_backtrace::<rustc_query_impl[61113a71a2b02049]::query_impl::thir_body::dynamic_query::{closure#2}::{closure#0}, rustc_middle[80127f98e0fedb5b]::query::erase::Erased<[u8; 16usize]>>
  42:     0x7ffff59e4bf9 - rustc_query_system[bfbd0197cdd02210]::query::plumbing::try_execute_query::<rustc_query_impl[61113a71a2b02049]::DynamicConfig<rustc_data_structures[8ba96ecce1330312]::vec_cache::VecCache<rustc_span[f9f38fe676b1ca59]::def_id::LocalDefId, rustc_middle[80127f98e0fedb5b]::query::erase::Erased<[u8; 16usize]>, rustc_query_system[bfbd0197cdd02210]::dep_graph::graph::DepNodeIndex>, false, false, false>, rustc_query_impl[61113a71a2b02049]::plumbing::QueryCtxt, false>
  43:     0x7ffff59e4764 - rustc_query_impl[61113a71a2b02049]::query_impl::thir_body::get_query_non_incr::__rust_end_short_backtrace
  44:     0x555555968863 - creusot::ctx::TranslationCtx::fetch_thir::h005db6d78f65bfc7
  45:     0x555555ac49a9 - creusot::validate::purity::validate_purity::hefa30e210707e8b7
  46:     0x555555a2f17c - creusot::translation::before_analysis::hd424fa4874e5506a
  47:     0x555555855df3 - <creusot::callbacks::ToWhy as rustc_driver_impl::Callbacks>::after_expansion::h41f56bf47c35d97e
  48:     0x7ffff662e859 - rustc_interface[444c50c8c58a8997]::passes::create_and_enter_global_ctxt::<core[1b69f308fde5021f]::option::Option<rustc_interface[444c50c8c58a8997]::queries::Linker>, rustc_driver_impl[3ce1408bca960349]::run_compiler::{closure#0}::{closure#2}>::{closure#2}::{closure#0}
  49:     0x7ffff65245d8 - rustc_interface[444c50c8c58a8997]::interface::run_compiler::<(), rustc_driver_impl[3ce1408bca960349]::run_compiler::{closure#0}>::{closure#1}
  50:     0x7ffff648c5f5 - std[41a6e8152209c0a6]::sys::backtrace::__rust_begin_short_backtrace::<rustc_interface[444c50c8c58a8997]::util::run_in_thread_with_globals<rustc_interface[444c50c8c58a8997]::util::run_in_thread_pool_with_globals<rustc_interface[444c50c8c58a8997]::interface::run_compiler<(), rustc_driver_impl[3ce1408bca960349]::run_compiler::{closure#0}>::{closure#1}, ()>::{closure#0}, ()>::{closure#0}::{closure#0}, ()>
  51:     0x7ffff648c2d9 - <<std[41a6e8152209c0a6]::thread::Builder>::spawn_unchecked_<rustc_interface[444c50c8c58a8997]::util::run_in_thread_with_globals<rustc_interface[444c50c8c58a8997]::util::run_in_thread_pool_with_globals<rustc_interface[444c50c8c58a8997]::interface::run_compiler<(), rustc_driver_impl[3ce1408bca960349]::run_compiler::{closure#0}>::{closure#1}, ()>::{closure#0}, ()>::{closure#0}::{closure#0}, ()>::{closure#1} as core[1b69f308fde5021f]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  52:     0x7ffff648ba6f - std::sys::pal::unix::thread::Thread::new::thread_start::h57c67f308f577aff
  53:     0x7ffff0497e63 - start_thread
  54:     0x7ffff051bdbc - __clone3
  55:                0x0 - <unknown>


rustc version: 1.86.0-nightly (a730edcd6 2025-01-30)
platform: x86_64-unknown-linux-gnu

query stack during panic:
#0 [typeck] type-checking `smol_currency::base_currency::<impl at src/smol_currency/base_currency.rs:20:5: 20:42>::eq`
#1 [thir_body] building THIR for `smol_currency::base_currency::<impl at src/smol_currency/base_currency.rs:20:5: 20:42>::eq`
end of query stack
